<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instagram Login</title>
  <link rel="stylesheet" href="../styles/global.css">
</head>

<body>
  <div class="container align-center">
    <div class="language">
      <select class="lang-select" id="languageSwitcher">
        <option value="en">English</option>
        <option value="ru">Русский</option>
        <option value="es">Español</option>
      </select>
    </div>

    <div class="logo">
      <img src="../images/logos_instagram.svg" alt="Instagram Logo" />
    </div>

    <form class="login-form">
      <input type="text" placeholder="Phone number, email or username" required id="loginInput">
      <input type="password" placeholder="Password" required id="passwordInput">
      <button class="btn signup-btn" id="signupBtn">Sign Up</button>
    </form>

    <p class="signin-text" id="signinText">
      Already have an account? <a href="#">Sign in.</a>
    </p>

    <div class="divider">
      <span></span> OR <span></span>
    </div>

    <div class="center">
      <button class="fb" id="fbBtn">
        <span class="fb-logo">f</span>
        <span class="fb-text">Sign Up with Facebook</span>
      </button>
    </div>
  </div>

  <a href="page_4.html">go to page 4</a>

<script>
window.addEventListener('DOMContentLoaded', () => {
  const translations = {
    en: {
      signup: "Sign Up",
      signin: 'Already have an account? <a href="#">Sign in.</a>',
      fb: "Sign Up with Facebook",
      loginPlaceholder: "Phone number, email or username",
      passwordPlaceholder: "Password"
    },
    ru: {
      signup: "Зарегистрироваться",
      signin: 'Уже есть аккаунт? <a href="#">Войти.</a>',
      fb: "Войти через Facebook",
      loginPlaceholder: "Телефон, email или имя пользователя",
      passwordPlaceholder: "Пароль"
    },
    es: {
      signup: "Regístrate",
      signin: '¿Ya tienes una cuenta? <a href="#">Inicia sesión.</a>',
      fb: "Regístrate con Facebook",
      loginPlaceholder: "Teléfono, correo o usuario",
      passwordPlaceholder: "Contraseña"
    }
  };

  const langSelect = document.getElementById('languageSwitcher') || document.querySelector('.lang-select');
  const signupBtn = document.getElementById('signupBtn') || document.querySelector('.signup-btn');
  const signinTextEl = document.getElementById('signinText') || document.querySelector('.signin-text');
  const fbTextEl = (document.getElementById('fbBtn') && document.getElementById('fbBtn').querySelector('.fb-text'))
                   || document.querySelector('.fb .fb-text');
  const loginInput = document.getElementById('loginInput') || document.querySelector('.login-form input[type="text"]');
  const passwordInput = document.getElementById('passwordInput') || document.querySelector('.login-form input[type="password"]');

  function applyLanguage(lang) {
    const t = translations[lang] || translations['en'];

    if (signupBtn) signupBtn.textContent = t.signup;
    if (signinTextEl) signinTextEl.innerHTML = t.signin;
    if (fbTextEl) fbTextEl.textContent = t.fb;
    if (loginInput) loginInput.placeholder = t.loginPlaceholder;
    if (passwordInput && t.passwordPlaceholder) passwordInput.placeholder = t.passwordPlaceholder;

    if (langSelect) langSelect.value = lang;
    document.documentElement.lang = lang;
  }

  const savedLang = localStorage.getItem('lang') || 'en';
  applyLanguage(savedLang);

  if (langSelect) {
    langSelect.addEventListener('change', () => {
      const lang = langSelect.value;
      localStorage.setItem('lang', lang);
      applyLanguage(lang);
    });
  } else {
    console.warn('languageSwitcher не найден в DOM — убедись, что select имеет id="languageSwitcher" или класс .lang-select');
  }

  console.log('i18n: signupBtn', !!signupBtn, 'signinText', !!signinTextEl, 'fbText', !!fbTextEl);
});
</script>
</body>

</html>